import { c as createComponent, r as renderTemplate, d as renderHead, a as addAttribute, b as createAstro } from '../../chunks/astro/server_DLfV5Tyk.mjs';
import { g as getConfig } from '../../chunks/config_D1tC_rRf.mjs';
/* empty css                                       */
export { renderers } from '../../renderers.mjs';

const $$Astro = createAstro();
const $$Settings = createComponent(async ($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$Settings;
  const isLogin = /(?:^|;\s*)admin_session=1(?:;|$)/.test(Astro2.request.headers.get("cookie") || "");
  if (!isLogin) {
    return Astro2.redirect("/admin");
  }
  const cfg = await getConfig();
  return renderTemplate`<html lang="zh-CN" data-astro-cid-nc6xuisf> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>站点设置</title>${renderHead()}</head> <body data-astro-cid-nc6xuisf> <div class="card" data-astro-cid-nc6xuisf> <h1 data-astro-cid-nc6xuisf>站点设置</h1> <button id="logout" style="background:#ef4444" data-astro-cid-nc6xuisf>退出登录</button> </div> <div class="group two" data-astro-cid-nc6xuisf> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>目标频道</label><input id="channel"${addAttribute(cfg.telegram?.targetChannel || cfg.site?.channel, "value")} data-astro-cid-nc6xuisf></div> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>分页每页数量</label><input id="pageSize" type="number"${addAttribute(cfg.content?.maxPostsPerPage || cfg.site?.pageSize, "value")} data-astro-cid-nc6xuisf></div> </div> <div class="group two" data-astro-cid-nc6xuisf> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>屏蔽关键词（逗号分隔）</label><input id="keywords"${addAttribute((cfg.content?.filterKeywords || cfg.filters?.filterKeywords || []).join(", "), "value")} data-astro-cid-nc6xuisf></div> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>屏蔽标签（逗号分隔）</label><input id="tags"${addAttribute((cfg.content?.blockTags || cfg.filters?.blockTags || []).join(", "), "value")} data-astro-cid-nc6xuisf></div> </div> <div class="group two" data-astro-cid-nc6xuisf> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>站点标题</label><input id="title"${addAttribute(cfg.site.title, "value")} data-astro-cid-nc6xuisf></div> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>主题</label> <select id="theme"${addAttribute(cfg.site.theme, "value")} data-astro-cid-nc6xuisf> <option value="auto" data-astro-cid-nc6xuisf>自动</option> <option value="light" data-astro-cid-nc6xuisf>浅色</option> <option value="dark" data-astro-cid-nc6xuisf>深色</option> </select> </div> </div> <div class="group two" data-astro-cid-nc6xuisf> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>站点副标题</label><input id="subtitle"${addAttribute(cfg.site?.subtitle || "", "value")} placeholder="例如：快乐加油站，笑料收割机" data-astro-cid-nc6xuisf></div> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>ICP备案信息</label><input id="icp"${addAttribute(cfg.site?.icp || "", "value")} placeholder="例如：京ICP备xxxxxxxx号" data-astro-cid-nc6xuisf></div> </div> <div class="group" data-astro-cid-nc6xuisf> <div class="row logo-row" data-astro-cid-nc6xuisf> <label data-astro-cid-nc6xuisf>站点 LOGO</label> <img id="logoPreview" class="logo-preview"${addAttribute(cfg.site?.logo || "", "src")} alt="Logo 预览" onerror="this.style.display='none'" data-astro-cid-nc6xuisf> <div style="display:flex; gap:8px;" data-astro-cid-nc6xuisf> <input id="logoUrl" placeholder="直接填写图片 URL 或使用右侧上传"${addAttribute(cfg.site?.logo || "", "value")} data-astro-cid-nc6xuisf> <input id="logoFile" type="file" accept="image/*" style="width:260px" data-astro-cid-nc6xuisf> <button id="uploadLogo" type="button" data-astro-cid-nc6xuisf>上传</button> </div> </div> </div> <div class="group" data-astro-cid-nc6xuisf> <div class="row" style="grid-template-columns: 220px 1fr" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>频道介绍（支持 HTML）</label><textarea id="siteDesc" placeholder="在此输入将显示在首页头部的频道介绍" data-astro-cid-nc6xuisf>${cfg.site?.description || ""}</textarea></div> </div> <div class="group two" data-astro-cid-nc6xuisf> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>静态代理前缀</label><input id="staticProxy"${addAttribute(cfg.site.staticProxy || "", "value")} data-astro-cid-nc6xuisf></div> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>SEO Robots</label> <select id="robots"${addAttribute(cfg.seo?.noIndex || cfg.seo?.noFollow ? `${cfg.seo.noIndex ? "noindex" : "index"},${cfg.seo.noFollow ? "nofollow" : "follow"}` : "index,follow", "value")} data-astro-cid-nc6xuisf> <option value="index,follow" data-astro-cid-nc6xuisf>index,follow</option> <option value="noindex,nofollow" data-astro-cid-nc6xuisf>noindex,nofollow</option> <option value="noindex,follow" data-astro-cid-nc6xuisf>noindex,follow</option> </select> </div> </div> <div class="group" data-astro-cid-nc6xuisf> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>管理员用户名</label><input id="adminUser"${addAttribute(cfg.admin.username, "value")} data-astro-cid-nc6xuisf></div> <div class="row" data-astro-cid-nc6xuisf><label data-astro-cid-nc6xuisf>管理员密码</label><input id="adminPass" type="password"${addAttribute(cfg.admin.password, "value")} data-astro-cid-nc6xuisf></div> </div> <div class="group" data-astro-cid-nc6xuisf> <button id="save" data-astro-cid-nc6xuisf>保存设置</button> <span class="msg" id="msg" data-astro-cid-nc6xuisf></span> <span style="float:right" data-astro-cid-nc6xuisf><a href="/" data-astro-cid-nc6xuisf>返回首页</a></span> </div>  </body> </html>`;
}, "/www/wwwroot/baoxiao.fun/app/src/pages/admin/settings.astro", void 0);

const $$file = "/www/wwwroot/baoxiao.fun/app/src/pages/admin/settings.astro";
const $$url = "/admin/settings";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Settings,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
